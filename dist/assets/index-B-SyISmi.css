:root{font-family:Inter,system-ui,-apple-system,sans-serif;line-height:1.4;font-weight:400;color-scheme:light;color:#1e293b;background-color:#f8fafc}body{margin:0;display:flex;min-height:100vh;overflow:hidden}#root{width:100%}.sidebar{width:280px;background-color:#fff;border-right:1px solid #e2e8f0;display:flex;flex-direction:column;overflow-y:auto;overflow-x:visible;flex-shrink:0;position:relative;z-index:60}.right-sidebar{width:320px;background-color:#fff;border-left:1px solid #e2e8f0;display:flex;flex-direction:column;overflow:hidden;flex-shrink:0;height:100%}.right-sidebar-tabs{display:grid;grid-template-columns:1fr 1fr;gap:0;background:#fff;border-bottom:1px solid #e2e8f0;flex-shrink:0}.right-sidebar-tab{background:transparent;border:none;cursor:pointer;padding:10px 12px;font-size:.85rem;font-weight:800;letter-spacing:.04em;text-transform:uppercase;color:#64748b}.right-sidebar-tab.active{color:#0f172a;background:#f8fafc}.right-sidebar-tab-shell{display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.sidebar-header,.tool-settings-header{display:flex;align-items:center;height:44px;font-size:1.1rem;font-weight:700;color:#475569;border-bottom:1px solid #e2e8f0;padding:0 16px;background:#fff;box-sizing:border-box;flex-shrink:0}.right-sidebar-tool{flex:0 0 auto;overflow-y:auto;padding:0 16px 16px;background:#fff;min-height:0}.tool-settings-header{margin:0 -16px;border-bottom:1px solid #e2e8f0}.right-sidebar-general{flex:1 1 auto;overflow-y:auto;overflow-x:hidden;background:#fff;min-height:0}.sidebar-placeholder{font-size:.85rem;color:#64748b;line-height:1.5}.tool-settings-block{margin-bottom:1rem}.tool-settings-block:last-child{margin-bottom:0}.selection-meta{font-size:.75rem;color:#94a3b8;margin-bottom:.5rem}.input-mixed{opacity:.6}.main-content{flex:1;overflow:hidden;background:#f8fafc;display:flex;flex-direction:column;padding:0;position:relative;z-index:1;--canvas-toolbar-offset: 64px}.canvas-toolbar-shell{padding:10px 20px;background:#f8fafc;z-index:10;flex-shrink:0;position:sticky;top:12px;display:flex;justify-content:center;pointer-events:none;height:0;overflow:visible}.canvas-stage{flex:1;overflow:auto;padding:0 20px 20px;position:relative}.canvas-stage-inner{min-height:100%;min-width:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:center;padding-top:var(--canvas-toolbar-offset);padding-bottom:10px;box-sizing:border-box}.sidebar input,.sidebar select{font-size:.8rem}.app-container{display:flex;flex-direction:column;height:100vh;width:100%;overflow:hidden}.main-body{display:flex;flex-direction:row;flex:1;overflow:hidden;height:100%}.top-bar{height:50px;background:#fff;border-bottom:1px solid #e2e8f0;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding:0 16px;flex-shrink:0;gap:12px}.top-bar-group{display:flex;gap:8px;align-items:center}.top-bar-left{justify-content:flex-start;min-width:0}.top-bar-right{justify-content:flex-end;min-width:0}.top-bar-center{display:flex;justify-content:center;min-width:0}.diagram-name-shell{display:inline-flex;align-items:center;gap:6px;height:24px;max-width:320px;min-width:0}.icon-btn.diagram-name-pen{width:24px;height:24px;padding:0;justify-content:center;border-radius:6px}.diagram-name-text{font-size:.9rem;font-weight:600;color:#475569;width:200px;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;user-select:none;cursor:default;height:24px;line-height:24px;text-align:center;box-sizing:border-box}.diagram-name-input{width:200px;max-width:200px;height:24px!important;line-height:24px!important;font-size:.9rem!important;font-weight:600!important;text-align:center;box-sizing:border-box;border:none!important;border-radius:0!important;background:transparent!important;outline:none!important;box-shadow:none!important}.diagram-name-input:focus{outline:none!important}.icon-btn{background:transparent;border:none;cursor:pointer;display:flex;align-items:center;gap:6px;font-size:.9rem;font-weight:600;color:#475569;padding:8px 12px;border-radius:4px;transition:background .15s ease}.icon-btn:hover,.icon-btn.active{color:#0f172a}.icon-btn:disabled{opacity:.4;cursor:default}.primary-btn{background:#0f172a;color:#fff;border:none;padding:8px 16px;border-radius:4px;font-weight:700;font-size:.9rem;cursor:pointer;display:flex;align-items:center;transition:background .15s ease}.primary-btn:hover{background:#1e293b}.panel-resizer{flex:0 0 auto;background:#f1f5f9;position:relative;z-index:50}.panel-resizer-vertical{width:10px;cursor:col-resize;border-left:1px solid #e2e8f0;border-right:1px solid #e2e8f0}.panel-resizer-horizontal{height:10px;cursor:row-resize;border-top:1px solid #e2e8f0;border-bottom:1px solid #e2e8f0}.panel-resizer:hover{background:#e2e8f0}.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:.4rem}.input-group{display:flex;flex-direction:column;gap:.2rem;margin-bottom:1px}.input-group:last-child{margin-bottom:0}.color-picker{position:relative;width:auto;display:flex;flex-direction:column;align-items:flex-start;gap:6px;margin-top:10px}.color-picker-header{display:flex;align-items:center;justify-content:flex-start;gap:8px;width:100%}label{font-size:.8rem;color:#334155;font-weight:600}.right-sidebar label{margin-top:5px}.color-picker label{margin-top:0}.color-picker-main{display:flex;align-items:center;gap:6px}button.color-picker-current{width:20px;height:20px;border-radius:5px;border:1px solid #94a3b8;box-shadow:inset 0 0 0 1px #fff6;cursor:pointer;padding:0;background:transparent}.color-picker-panel{display:grid;gap:6px}.color-picker-panel.compact-panel{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:8px;box-shadow:0 10px 20px #0f172a1f;z-index:1200;width:max-content;max-width:calc(100vw - 16px)}.color-picker-panel.compact-panel .color-picker-row-title{min-width:40px}.color-picker-row{display:flex;align-items:center;gap:6px}.color-picker-row-title{font-size:.65rem;text-transform:uppercase;letter-spacing:.08em;color:#94a3b8;min-width:44px}.color-picker-row-swatches{display:flex;flex-wrap:nowrap;gap:3px;align-items:center;overflow-x:auto;padding:2px 2px 3px}button.color-picker-swatch-btn{width:16px;height:16px;border-radius:4px;border:1px solid rgba(15,23,42,.2);padding:0;cursor:pointer;background:transparent;display:inline-flex;align-items:center;justify-content:center;color:#475569;box-sizing:border-box}button.color-picker-swatch-btn.active{border-color:transparent;box-shadow:0 0 0 2px #0f172a}button.color-picker-swatch-btn.empty{border-style:dashed;border-color:#cbd5e1;background:#f8fafc;cursor:default}button.color-picker-custom-btn{background:#fff;border-color:#94a3b8}input:not([hidden]),select{background:#fff;border:1px solid #cbd5e1;color:#1e293b;padding:0 .4rem;height:28px;line-height:28px;border-radius:4px;font-family:inherit;font-size:.85rem;width:100%;box-sizing:border-box}input:disabled{background:#f8fafc;color:#94a3b8;cursor:not-allowed}.color-picker-input{position:absolute;width:0;height:0;opacity:0;padding:0;border:none;pointer-events:none;appearance:none;-webkit-appearance:none;-moz-appearance:none}.color-picker.compact{position:relative}.color-picker.compact .color-picker-panel{display:none}button{background:#334155;color:#fff;border:none;padding:.5rem .8rem;border-radius:4px;font-weight:700;font-size:.8rem;cursor:pointer}.signal-card{background:#fff;border:1px solid #e2e8f0;border-radius:10px;margin:10px 12px;overflow:hidden;box-shadow:0 2px 4px #0f172a0d}.signal-card-header{background:#f1f5f9;padding:6px 10px;display:flex;align-items:center;gap:8px;border-bottom:1px solid #e2e8f0}.signal-card-header .color-picker{margin-top:0}.signal-drag-handle{width:22px;height:22px;display:inline-flex;align-items:center;justify-content:center;padding:0;border-radius:6px;border:1px dashed #e2e8f0;background:#fff;color:#64748b;font-weight:900;cursor:grab}.signal-drag-handle:active{cursor:grabbing}.signal-label-input{flex:1;background:transparent!important;border:none!important;border-bottom:1px solid #e2e8f0!important;font-weight:500!important;font-size:.9rem!important;height:26px!important}.signal-icon-btn{width:26px;height:26px;padding:0;border-radius:6px;border:1px solid #e2e8f0;background:#fff;color:#475569;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.signal-icon-btn.active{color:#0f172a;border-color:#94a3b8}.signal-delete-btn{color:#ef4444;border-color:#ef444440}.signal-card-body{padding:10px 10px 12px}.footer-btn-group{padding:12px;border-top:1px solid #e2e8f0;display:flex;flex-direction:column;gap:8px;background:#fff;margin-top:auto}.diagram-canvas{background:#fff;padding:15px;display:block;width:max-content;margin:0 auto;box-shadow:0 4px 12px #0000001a;flex-shrink:0}.diagram-zoom-shell{display:inline-block;margin:0 auto}.diagram-zoom-inner{transform-origin:top left}.edge-count-hint div{font-size:.72rem;color:#64748b;padding-top:6px}.canvas-zoom-controls{position:absolute;right:24px;bottom:24px;display:flex;flex-direction:column;gap:8px;z-index:5}.canvas-zoom-btn{background:#fff;border:1px solid #e2e8f0;border-radius:6px;width:36px;height:36px;font-size:20px;line-height:1;cursor:pointer;color:#0f172a;box-shadow:0 6px 14px #0f172a1f;display:flex;align-items:center;justify-content:center}.canvas-zoom-btn:hover{background:#f1f5f9}.canvas-toolbar{position:relative;background:#fff;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 6px 14px #0f172a1f;padding:16px;display:flex;align-items:center;gap:8px;z-index:2;pointer-events:auto}.canvas-toolbar-group{display:flex;gap:2px;align-items:center}.canvas-toolbar-separator{width:1px;height:22px;background:#cbd5e1}.canvas-toolbar-btn{background:transparent;color:#475569;border:none;padding:12px;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease}.canvas-toolbar-btn:hover{color:#0f172a}.canvas-toolbar.has-active .canvas-toolbar-btn:not(.active):not(:disabled){color:#94a3b8;opacity:.7}.canvas-toolbar.has-active .canvas-toolbar-btn:not(.active):not(:disabled):hover{color:#64748b;opacity:.9}.canvas-toolbar-btn.active{background:transparent;color:#0f172a}.canvas-toolbar-btn:disabled{opacity:.4;cursor:not-allowed}
